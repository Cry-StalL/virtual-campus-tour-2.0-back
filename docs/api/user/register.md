# 用户注册接口

## 接口说明

注册新用户账号。

## 请求信息

- 请求路径：`/api/v1/users/register`
- 请求方法：`POST`
- 请求头：
  ```
  Content-Type: application/json
  ```

## 请求参数

| 参数名 | 类型 | 必填 | 说明 |
|--------|------|------|------|
| username | string | 是 | 用户名，长度4-20个字符 |
| email | string | 是 | 电子邮箱地址 |
| password | string | 是 | 密码，长度6-20个字符 |
| code | string | 是 | 邮箱生成的随机六位数字 |


## 请求示例

```json
{
  "username": "testuser",
  "email": "test@example.com",
  "password": "qwerty123456",
  "code": "123456"

}
```

## 要求

### 安全性
1. 密码在传输过程中需要加密处理

### 数据校验
1. 邮箱不能重复
2. 用户名不能重复

## 响应信息

### 成功响应

- 状态码：`200`
- 响应格式：`application/json`
- 响应示例：
```json
{
  "code": 0,
  "message": "success",
  "data": {
    "user_id": 1,
    "username": "testuser",
    "email": "test@example.com",
    "created_at": "2024-03-20T10:00:00Z"
  }
}
```
- 说明
  - 区分"状态码"和响应内容中的code，"状态码"是HTTP响应中的状态码，200表示成功响应，400表示错误响应；响应内容中的code字段则说明了具体的错误，如邮箱已注册、用户名重复等（见下表）
  - user_id是用户的唯一标识码 (后期考虑升级为UUID或进行加密)

### 错误响应

- 状态码：`400`
- 响应格式：`application/json`
- 响应示例：
```json
{
  "code": 1002,
  "message": "用户名已存在",
  "data": null
}
```

## 状态码及响应中的code列表
| 状态码 | 响应中的code | 说明   |
|-----|----------------|------|
| 200 | 0              | 成功响应     |
| 400 | 1001           | 邮箱已注册   |
|400  | 1002           | 用户名已存在 |
|400  | 1003           | 验证码不正确 |



## 错误码说明

| 错误码 | 说明 |
|--------|------|
| 400 | 请求参数错误 |
| 400 | 用户名已存在 |
| 400 | 邮箱已被注册 |
| 400 | 验证码不正确  |
| 500 | 服务器内部错误 |
