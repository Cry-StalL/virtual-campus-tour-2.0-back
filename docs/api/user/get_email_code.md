# 获取邮箱验证码接口

## 接口说明

发送验证码到指定邮箱，用于用户注册时的邮箱验证。

## 请求信息

- 请求路径：`/api/v1/users/email-code`
- 请求方法：`POST`
- 请求头：
  ```
  Content-Type: application/json
  ```

## 请求参数

| 参数名 | 类型 | 必填 | 说明 |
|--------|------|------|------|
| email | string | 是 | 电子邮箱地址 |

## 请求示例

```json
{
  "email": "test@example.com"
}
```

## 要求

### 安全性
1. 同一邮箱60秒内只能发送一次验证码
2. 同一IP地址60秒内最多发送3次验证码
3. 验证码有效期为5分钟

### 数据校验
1. 邮箱格式必须正确
2. 邮箱不能已被注册

## 响应信息

### 成功响应

- 状态码：`200`
- 响应格式：`application/json`
- 响应示例：
```json
{
  "code": 0,
  "message": "success",
  "data": {
    "expire_time": 300  // 验证码有效期（秒）
  }
}
```

### 错误响应

- 状态码：`400`
- 响应格式：`application/json`
- 响应示例：
```json
{
  "code": 2001,
  "message": "邮箱已被注册",
  "data": null
}
```

## 状态码及响应中的code列表

| 状态码 | 响应中的code | 说明 |
|--------|-------------|------|
| 200 | 0 | 成功响应 |
| 400 | 2001 | 邮箱已被注册 |
| 400 | 2002 | 邮箱格式不正确 |
| 400 | 2003 | 发送过于频繁，请稍后再试 |
| 400 | 2004 | IP发送次数过多，请稍后再试 |
| 500 | 2005 | 邮件发送失败 |

## 错误码说明

| 错误码 | 说明 |
|--------|------|
| 400 | 请求参数错误 |
| 400 | 邮箱已被注册 |
| 400 | 邮箱格式不正确 |
| 400 | 发送过于频繁 |
| 400 | IP发送次数过多 |
| 500 | 邮件发送失败 | 